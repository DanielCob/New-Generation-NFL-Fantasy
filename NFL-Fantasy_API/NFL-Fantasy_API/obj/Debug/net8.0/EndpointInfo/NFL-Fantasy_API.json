{
  "openapi": "3.0.4",
  "info": {
    "title": "X-NFL Fantasy API",
    "description": "API REST para el sistema X-NFL Fantasy Draft Optimizer.\n\n**Features implementados:**\n- Feature 1.1: Registro, autenticación y gestión de perfiles de usuarios\n- Feature 1.2: Creación y administración de ligas de fantasy\n\n**Autenticación:**\nLa mayoría de endpoints requieren autenticación Bearer token.\n1. Registrarse en POST /api/auth/register\n2. Iniciar sesión en POST /api/auth/login (retorna SessionID)\n3. Usar SessionID como Bearer token en header Authorization",
    "contact": {
      "name": "X-NFL Team",
      "email": "support@xnfl.com"
    },
    "version": "v1.0"
  },
  "paths": {
    "/api/Auth/register": {
      "post": {
        "tags": [
          "Auth"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RegisterUserDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/RegisterUserDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/RegisterUserDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseDTO"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseDTO"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseDTO"
                }
              }
            }
          }
        }
      }
    },
    "/api/Auth/login": {
      "post": {
        "tags": [
          "Auth"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/LoginDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseDTO"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseDTO"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseDTO"
                }
              }
            }
          }
        }
      }
    },
    "/api/Auth/logout": {
      "post": {
        "tags": [
          "Auth"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseDTO"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseDTO"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseDTO"
                }
              }
            }
          }
        }
      }
    },
    "/api/Auth/logout-all": {
      "post": {
        "tags": [
          "Auth"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseDTO"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseDTO"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseDTO"
                }
              }
            }
          }
        }
      }
    },
    "/api/Auth/request-reset": {
      "post": {
        "tags": [
          "Auth"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RequestPasswordResetDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/RequestPasswordResetDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/RequestPasswordResetDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseDTO"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseDTO"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseDTO"
                }
              }
            }
          }
        }
      }
    },
    "/api/Auth/reset-with-token": {
      "post": {
        "tags": [
          "Auth"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ResetPasswordWithTokenDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/ResetPasswordWithTokenDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/ResetPasswordWithTokenDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseDTO"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseDTO"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseDTO"
                }
              }
            }
          }
        }
      }
    },
    "/": {
      "get": {
        "tags": [
          "Health"
        ],
        "operationId": "Root",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/health": {
      "get": {
        "tags": [
          "Health"
        ],
        "operationId": "HealthCheck",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/League": {
      "post": {
        "tags": [
          "League"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateLeagueDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateLeagueDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateLeagueDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseDTO"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseDTO"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseDTO"
                }
              }
            }
          }
        }
      }
    },
    "/api/League/{id}/config": {
      "put": {
        "tags": [
          "League"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EditLeagueConfigDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/EditLeagueConfigDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/EditLeagueConfigDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseDTO"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseDTO"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseDTO"
                }
              }
            }
          }
        }
      }
    },
    "/api/League/{id}/status": {
      "put": {
        "tags": [
          "League"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SetLeagueStatusDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/SetLeagueStatusDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/SetLeagueStatusDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseDTO"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseDTO"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseDTO"
                }
              }
            }
          }
        }
      }
    },
    "/api/League/{id}/summary": {
      "get": {
        "tags": [
          "League"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/League/directory": {
      "get": {
        "tags": [
          "League"
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/League/{id}/members": {
      "get": {
        "tags": [
          "League"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/League/{id}/teams": {
      "get": {
        "tags": [
          "League"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Reference/current-season": {
      "get": {
        "tags": [
          "Reference"
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Reference/position-formats": {
      "get": {
        "tags": [
          "Reference"
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Reference/position-formats/{id}/slots": {
      "get": {
        "tags": [
          "Reference"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Scoring/schemas": {
      "get": {
        "tags": [
          "Scoring"
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Scoring/schemas/{id}/rules": {
      "get": {
        "tags": [
          "Scoring"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/User/profile": {
      "get": {
        "tags": [
          "User"
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "put": {
        "tags": [
          "User"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateUserProfileDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateUserProfileDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateUserProfileDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseDTO"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseDTO"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseDTO"
                }
              }
            }
          }
        }
      }
    },
    "/api/User/header": {
      "get": {
        "tags": [
          "User"
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/User/sessions": {
      "get": {
        "tags": [
          "User"
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Views/leagues/{id}/summary": {
      "get": {
        "tags": [
          "Views"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Views/leagues/directory": {
      "get": {
        "tags": [
          "Views"
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Views/users/active": {
      "get": {
        "tags": [
          "Views"
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Views/system/stats": {
      "get": {
        "tags": [
          "Views"
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "ApiResponseDTO": {
        "type": "object",
        "properties": {
          "Success": {
            "type": "boolean"
          },
          "Message": {
            "type": "string",
            "nullable": true
          },
          "Data": {
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "CreateLeagueDTO": {
        "required": [
          "InitialTeamName",
          "LeaguePassword",
          "Name",
          "PlayoffTeams",
          "TeamSlots"
        ],
        "type": "object",
        "properties": {
          "Name": {
            "maxLength": 100,
            "minLength": 1,
            "type": "string"
          },
          "Description": {
            "maxLength": 500,
            "minLength": 0,
            "type": "string",
            "nullable": true
          },
          "TeamSlots": {
            "maximum": 20,
            "minimum": 4,
            "type": "integer",
            "format": "int32"
          },
          "LeaguePassword": {
            "maxLength": 12,
            "minLength": 8,
            "type": "string"
          },
          "InitialTeamName": {
            "maxLength": 50,
            "minLength": 1,
            "type": "string"
          },
          "PlayoffTeams": {
            "maximum": 6,
            "minimum": 4,
            "type": "integer",
            "format": "int32"
          },
          "AllowDecimals": {
            "type": "boolean"
          },
          "PositionFormatID": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "ScoringSchemaID": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "EditLeagueConfigDTO": {
        "type": "object",
        "properties": {
          "Name": {
            "maxLength": 100,
            "minLength": 1,
            "type": "string",
            "nullable": true
          },
          "Description": {
            "maxLength": 500,
            "minLength": 0,
            "type": "string",
            "nullable": true
          },
          "TeamSlots": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "PositionFormatID": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "ScoringSchemaID": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "PlayoffTeams": {
            "maximum": 6,
            "minimum": 4,
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "AllowDecimals": {
            "type": "boolean",
            "nullable": true
          },
          "TradeDeadlineEnabled": {
            "type": "boolean",
            "nullable": true
          },
          "TradeDeadlineDate": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "MaxRosterChangesPerTeam": {
            "maximum": 100,
            "minimum": 1,
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "MaxFreeAgentAddsPerTeam": {
            "maximum": 100,
            "minimum": 1,
            "type": "integer",
            "format": "int32",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "LoginDTO": {
        "required": [
          "Email",
          "Password"
        ],
        "type": "object",
        "properties": {
          "Email": {
            "minLength": 1,
            "type": "string",
            "format": "email"
          },
          "Password": {
            "minLength": 1,
            "type": "string"
          }
        },
        "additionalProperties": false
      },
      "RegisterUserDTO": {
        "required": [
          "Email",
          "Name",
          "Password",
          "PasswordConfirm"
        ],
        "type": "object",
        "properties": {
          "Name": {
            "maxLength": 50,
            "minLength": 1,
            "type": "string"
          },
          "Email": {
            "maxLength": 50,
            "minLength": 0,
            "type": "string",
            "format": "email"
          },
          "Alias": {
            "maxLength": 50,
            "minLength": 0,
            "type": "string",
            "nullable": true
          },
          "Password": {
            "maxLength": 12,
            "minLength": 8,
            "type": "string"
          },
          "PasswordConfirm": {
            "minLength": 1,
            "type": "string"
          },
          "LanguageCode": {
            "maxLength": 10,
            "minLength": 0,
            "type": "string",
            "nullable": true
          },
          "ProfileImageUrl": {
            "maxLength": 400,
            "minLength": 0,
            "type": "string",
            "nullable": true
          },
          "ProfileImageWidth": {
            "maximum": 1024,
            "minimum": 300,
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "ProfileImageHeight": {
            "maximum": 1024,
            "minimum": 300,
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "ProfileImageBytes": {
            "maximum": 5242880,
            "minimum": 1,
            "type": "integer",
            "format": "int32",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "RequestPasswordResetDTO": {
        "required": [
          "Email"
        ],
        "type": "object",
        "properties": {
          "Email": {
            "minLength": 1,
            "type": "string",
            "format": "email"
          }
        },
        "additionalProperties": false
      },
      "ResetPasswordWithTokenDTO": {
        "required": [
          "ConfirmPassword",
          "NewPassword",
          "Token"
        ],
        "type": "object",
        "properties": {
          "Token": {
            "minLength": 1,
            "type": "string"
          },
          "NewPassword": {
            "maxLength": 12,
            "minLength": 8,
            "type": "string"
          },
          "ConfirmPassword": {
            "minLength": 1,
            "type": "string"
          }
        },
        "additionalProperties": false
      },
      "SetLeagueStatusDTO": {
        "required": [
          "NewStatus"
        ],
        "type": "object",
        "properties": {
          "NewStatus": {
            "maximum": 3,
            "minimum": 0,
            "type": "integer",
            "format": "int32"
          },
          "Reason": {
            "maxLength": 300,
            "minLength": 0,
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "UpdateUserProfileDTO": {
        "type": "object",
        "properties": {
          "Name": {
            "maxLength": 50,
            "minLength": 1,
            "type": "string",
            "nullable": true
          },
          "Alias": {
            "maxLength": 50,
            "minLength": 0,
            "type": "string",
            "nullable": true
          },
          "LanguageCode": {
            "maxLength": 10,
            "minLength": 0,
            "type": "string",
            "nullable": true
          },
          "ProfileImageUrl": {
            "maxLength": 400,
            "minLength": 0,
            "type": "string",
            "nullable": true
          },
          "ProfileImageWidth": {
            "maximum": 1024,
            "minimum": 300,
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "ProfileImageHeight": {
            "maximum": 1024,
            "minimum": 300,
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "ProfileImageBytes": {
            "maximum": 5242880,
            "minimum": 1,
            "type": "integer",
            "format": "int32",
            "nullable": true
          }
        },
        "additionalProperties": false
      }
    },
    "securitySchemes": {
      "Bearer": {
        "type": "http",
        "description": "Ingrese el SessionID (GUID) obtenido al iniciar sesión.\n\nEjemplo: `3fa85f64-5717-4562-b3fc-2c963f66afa6`\n\nNo incluir la palabra 'Bearer', solo el GUID.",
        "scheme": "bearer",
        "bearerFormat": "GUID"
      }
    }
  },
  "security": [
    {
      "Bearer": [ ]
    }
  ]
}